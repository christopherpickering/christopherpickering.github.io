<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta content="IE=edge" http-equiv="X-UA-Compatible">
        <meta content="width=device-width" name="viewport">
        <meta content="true" name="HandheldFriendly">
        <meta content="yes" name="apple-mobile-web-app-capable">
        <meta content="black" name="apple-mobile-web-app-status-bar-style">
        <link href="/static/img/favicon.ico" rel="icon">
        <!-- site properties -->
        <title>
   Christophers Tips
        </title>
        <meta content="" name="description">
        <meta content="Christopher Pickering" name="author">
        <meta content="" name="keywords">
        <!-- typekit -->
        <link href="https://use.typekit.net/wtg5gdq.css" rel="stylesheet">
        <!-- styles -->
        <link href="/static/css/CACHE/4706c.css" rel="stylesheet">
        <!-- fontawesome -->
        <link href="/static/css/all.css" rel="stylesheet">
        <!-- google analytics -->
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-127293191-1">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'UA-127293191-1');
        </script>
    </head>
    <body>
        <div class="book with-summary">
            <div class="book-summary">
                <nav role="navigation">
                    <ul class="summary">
                        <li class="header title" style="text-align: center;">
                            <a href="/">
                                Christophers Tips
                            </a>
                        </li>
                        <li class="divider">
                        </li>
                        <div id="accordion">
                            <li class="header accordion-toggle">
                                MISC
                            </li>
                            <div class="accordion-content default">
                                <li class="chapter ">
                                    <a href="/pages/make_this_site.html">
                                        Make this Site
                                    </a>
                                </li>
                                <li class="chapter ">
                                    <a href="/pages/git.html">
                                        Git
                                    </a>
                                </li>
                                <li class="chapter ">
                                    <a href="/pages/setup_a_mac.html">
                                        Mac Setup
                                    </a>
                                </li>
                                <li class="chapter active">
                                    <a href="/pages/ubuntu_kiosk.html">
                                        Ubuntu Kiosk
                                    </a>
                                </li>
                            </div>
                            <li class="header accordion-toggle">
                                Web Development
                            </li>
                            <div class="accordion-content ">
                                <li class="chapter ">
                                    <a href="/pages/Mac_Django_Setup.html">
                                        Django on Mac
                                    </a>
                                </li>
                                <li class="chapter ">
                                    <a href="/pages/ubuntu_server.html">
                                        Ubuntu Server
                                    </a>
                                </li>
                            </div>
                            <li class="header accordion-toggle">
                                Database Connections
                            </li>
                            <div class="accordion-content ">
                                <li class="chapter ">
                                    <a href="/pages/cx_oracle_ubuntu.html">
                                        Ubuntu CX Oracle
                                    </a>
                                </li>
                                <li class="chapter ">
                                    <a href="/pages/cxoracle_mac.html">
                                        Mac CX Oracle
                                    </a>
                                </li>
                                <li class="chapter ">
                                    <a href="/pages/pyodbc_mac.html">
                                        Mac pyodbc
                                    </a>
                                </li>
                            </div>
                            <li class="divider">
                            </li>
                        </div>
                    </ul>
                </nav>
            </div>
            <div class="book-body">
                <div class="body-inner">
                    <div class="book-header" role="navigation">
                        <a aria-label="" class="btn pull-left js-toolbar-action" href="#">
                            <i class="fa fa-align-justify">
                            </i>
                        </a>
                        <!-- Title -->
                        <h2>
                            <a href="/">
        Christophers Tips
                            </a>
                        </h2>
                    </div>
                    <div class="page-wrapper" role="main" tabindex="-1">
                        <div class="page-inner">
                            <section class="normal markdown-section">
                                <h1>
                                    Create a Basic Ubuntu Web Kiosk
                                </h1>
                                <p>
                                    These steps are used on a MINIX PC with windows 10 pro installed.
                                </p>
                                <h2>
                                    Install Latest UBUNTU
                                </h2>
                                <p>
                                    <a href="https://www.ubuntu.com/download/desktop">
                                        Download
                                    </a>
                                    Ubuntu and put the image onto a thumb drive.
                                    <a href="https://www.balena.io/etcher/">
                                        Etcher
                                    </a>
                                    is an easy program to use.
                                </p>
                                <h3>
                                    Next we need to go into the BIOS and boot from the new USB.
                                </h3>
                                <ol>
                                    <li>
                                        Open Settings
                                    </li>
                                    <li>
                                        Choose Update and Security
                                    </li>
                                    <li>
                                        Choose Recovery from the left menu
                                    </li>
                                    <li>
                                        In the Advanced startup section click Restart Now
                                    </li>
                                    <li>
                                        After reboot click Troubleshoot
                                    </li>
                                    <li>
                                        Click Advanced Options
                                    </li>
                                    <li>
                                        Click UEFI Firmware Settings
                                    </li>
                                    <li>
                                        Click Restart
                                    </li>
                                </ol>
                                <h3>
                                    Select USB to boot from
                                </h3>
                                <p>
                                    While in the BIOS we will change the PC to auto boot when there is a power failure and then to boot from the USB to install UBUNTU.
                                </p>
                                <ol>
                                    <li>
                                        Navigate to the Advanced tab
                                    </li>
                                    <li>
                                        Choose option for MINIX Feature Configuration
                                    </li>
                                    <li>
                                        Change option for AC Power On to Always On
                                    </li>
                                    <li>
                                        Navigate to the Save &amp; Exit tab
                                    </li>
                                    <li>
                                        Change Boot Override to your USB device
                                    </li>
                                </ol>
                                <h3>
                                    Install UBUNTU
                                </h3>
                                <ol>
                                    <li>
                                        Select Install UBUNTU from the menu
                                    </li>
                                    <li>
                                        After selecting language, select the option for Minimal installation
                                    </li>
                                    <li>
                                        Select option to Erase disk and insatll Ubuntu
                                    </li>
                                    <li>
                                        Create an Admin user with pass you will not forget
                                    </li>
                                </ol>
                                <h2>
                                    Setup Kiosk
                                </h2>
                                <h3>
                                    Create User
                                </h3>
                                <p>
                                    Next create the kiosk user account in terminal. The account will be setup with no password and auto login.
                                </p>
                                <pre><code># create user
sudo adduser kiosk

# set no pass
sudo passwd -d 'kiosk'

# set auto login. Edit conf file. 
# Remove comments on the auto login section and add user. 
sudo nano /etc/gdm3/custom.conf

# section should look like this:
# Enabling automatic login
AutomaticLoginEnable = True
AutomaticLogin = kiosk

# fianlly reboot as kiosk user for remaining changes. 
# if everything worked the user should auto login.
sudo reboot
</code></pre>
                                <h3>
                                    If more BIOS Changes are needed .. Change Grub Settings
                                </h3>
                                <p>
                                    We will change the grub settings to show the grub menu on boot so that we can access BIOS by pressing F2 when booting if needed.
                                </p>
                                <p>
                                    In terminal:
                                </p>
                                <pre><code># open grub settings
sudo nano /etc/default/grub

# add a # to comment out the line "GRUB_TIMEOUT_STYLE=hidden"

# finally, run grub update
sudo update-grub
</code></pre>
                                <h2>
                                    Create firefox startup script
                                </h2>
                                <p>
                                    This piece of the setup is done in the kiosk user section.
                                </p>
                                <h3>
                                    Create Firefox Startup Script
                                </h3>
                                <p>
                                    In Termiinal:
                                </p>
                                <pre><code>nano ~/Desktop/firefox.sh

# add this to the file and save. This will enable gestures in firefox.
MOZ_USE_XINPUT2=1 /usr/bin/firefox
</code></pre>
                                <p>
                                    Change permissions to script to be able to run as non sudo
                                </p>
                                <pre><code>chmod 777 ~/Desktop/firefox.sh
</code></pre>
                                <p>
                                    Make the script run on login. It can either be added to "Startup Applications" user interface.
Search start menu for startup applications and add
                                    <code>
                                        ~/Desktop/firefox.sh
                                    </code>
                                    as the program to run.
                                </p>
                                <h2>
                                    Change Firefox settings
                                </h2>
                                <h3>
                                    Change diplay settings
                                </h3>
                                <ul>
                                    <li>
                                        Change homepage to http://backoffice/
                                    </li>
                                    <li>
                                        Turn off all homepage features
                                    </li>
                                    <li>
                                        Install AutoFullscreen extension to put firefox in full screen mode when opened.
                                    </li>
                                </ul>
                                <h3>
                                    Change PDF Settings
                                </h3>
                                <p>
                                    Navigate go to url "about:config" to open settings.
                                </p>
                                <p>
                                    Search for pdf
                                </p>
                                <p>
                                    change "cursorToolOnLoad" to 1
                                </p>
                                <p>
                                    change "disablePageMode" to true
                                </p>
                                <p>
                                    change "sidebarViewOnLoad" to 4
                                </p>
                                <h2>
                                    Other Settings
                                </h2>
                                <h3>
                                    Turn on On Screen Keybaord
                                </h3>
                                <p>
                                    Settings &gt; Universal Access &gt; Screen Keyboard &gt; On
                                </p>
                                <h3>
                                    Turn off Screen Saver
                                </h3>
                                <p>
                                    Settings &gt; Power &gt; Blank Screen &gt; Never
                                </p>
                                <p>
                                    Automatic Suspend &gt; Off
                                </p>
                                <p>
                                    Bluetooth Off
                                </p>
                                <h3>
                                    Turn off Notifications
                                </h3>
                                <p>
                                    Settings &gt; Notifications &gt; Off
                                </p>
                                <h3>
                                    Reboot Every Night
                                </h3>
                                <p>
                                    We would like the PC to reboot daily. This must be done on the admin account.
                                </p>
                                <p>
                                    Add an entry to crontab:
                                </p>
                                <pre><code>sudo crontab -e

# every day at 2 am
0 2 * * * /sbin/shutdown -r now 

# save and then restart cron
sudo service cron restart
</code></pre>
                                <h2>
                                    Enable Remote Access
                                </h2>
                                <p>
                                    Because we installed the basic UBUNTU the package we need was not installed. Install now.
                                </p>
                                <pre><code>sudo apt install -y vino
</code></pre>
                                <ol>
                                    <li>
                                        Settings &gt; Sharing &gt; Turn On
                                    </li>
                                    <li>
                                        Turn on screen sharing
                                    </li>
                                    <li>
                                        Add a password
                                    </li>
                                </ol>
                                <p>
                                    Stop encryption
                                </p>
                                <pre><code>sudo gsettings set org.gnome.Vino require-encryption false
</code></pre>
                                <p>
                                    Other possible helps
                                </p>
                                <pre><code>sudo apt-get install dconf-tools
</code></pre>
                                <p>
                                    Open dconf. Navigate to org &gt; gnome &gt; desktop &gt; remote-access
* Turnn of require encription
* chang auth method to vnc
                                </p>
                                <p>
                                    Restart for changes to work.
                                </p>
                                <p style="border-top: solid rgba(0, 0, 0, .07) 1px;padding-top: 20px;">
                                    <span style="font-size: 90%;float: left;">
                                        <small>
                                            Last updated November 27,2018
                                        </small>
                                    </span>
                                    <span style="float: right;">
                                        <i class="fab fa-github" style="padding-right: 20px;">
                                        </i>
                                        <i class="fas fa-envelope" style="padding-right: 20px;">
                                        </i>
                                        <i class="fab fa-linkedin">
                                        </i>
                                    </span>
                                </p>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- jquery -->
        <script src="/static/js/jquery.js">
        </script>
        <script src="/static/js/CACHE/c5979.js">
        </script>
    </body>
</html>
